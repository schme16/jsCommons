var window=window||{},document=document||{},navigator=navigator||{},module;!function(e,t,r){"use strict";return t.randomTo=function(e,r){return t.floor(t.random()*(r-e+1)+e)},t.deg=function(e){return e*(180/t.PI)},t.rad=function(e){return e*(t.PI/180)},t.angle=function(e,r,n){var o=180*t.atan2(r.y-e.y,r.x-e.x)/t.PI;if(n)return t.rad(o);return o},t.odd=function(e){return e%2===0?!1:!0},t.coordDist=function(e,r){var n=t.pow(e.x-r.x,2)+t.pow(e.y-r.y,2);return t.floor(t.sqrt(n))},t.diff=function(e,r){return t.abs(e-r)},t.biggest=function(e,t){if(e>=t)return e;return t},t.circleOverlap=function(e,r){return t.coordDist(e,r)<e.radius+r.radius},t.scale=function(e,t){return{width:100/e.width/(100/t.width),height:100/e.height/(100/t.height)}},t.percent=function(e,t){return e/t*100},t.pointInPoly=function(e,t){var r,n,o,i,a,l,c,u=t[0],s=t[1],f=!1;for(o=0,a=e.length-1;o<e.length;a=o++)r=e[o][0],l=e[o][1],n=e[a][0],c=e[a][1],i=l>s!=c>s&&(n-r)*(s-l)/(c-l)+r>u,i&&(f=!f);return f},t.asTile=function(e,r){return t.ceil(e/r)},t.asPixels=function(e,r){return t.ceil(e)*r},r.def={fillType:"fill",fillColor:"#fff",strokeColor:"#000",strokeWidth:1.01},r.circle=function(e,n,o,i,a){a=a||r.def;var l;e.beginPath(),l=a.fillType||r.def.fillType,e.fillStyle=a.fillColor||r.def.fillColor,e.strokeStyle=a.strokeColor||r.def.strokeColor,e.lineWidth=a.strokeWidth||r.def.strokeWidth,e.arc(n,o,i,0,2*t.PI,!0),e.closePath(),e[l]?e[l]():"both"===l?(e.fill(),e.stroke()):e.fill()},r.line=function(e,t,n,o,i,a){a=a||r.def,e.beginPath(),e.lineWidth=a.strokeWidth||r.def.strokeWidth,e.strokeStyle=a.strokeColor||r.def.strokeColor,e.moveTo(t,n),e.lineTo(o,i),e.stroke(),e.closePath()},r.rect=function(e,t,n,o,i,a){a=a||r.def,e.beginPath(),e.rect(t,n,o,i),e.lineWidth=a.lineWidth||r.def.lineWidth,e.strokeStyle=a.strokeStyle||r.def.strokeStyle,e.fillStyle=a.fillStyle||r.def.fillStyle,(a.fillStyle||r.def.fillStyle)&&e.fill(),(a.stroke||r.def.stroke)&&e.stroke(),e.closePath()},r.clear=function(e){e.clearRect(0,0,e.canvas.width,e.canvas.height)},r.text=function(e,t,n,o,i){i=i||r.def,e.beginPath(),e.font=i.font||e.font||"10px arial",e.fillStyle=i.fillStyle||"#ffffff",e.fillText(t,n,o),e.closePath()},e.array={},e.array.getJSONLength=function(e){var t,r=0;for(t in e)r+=1;return r},e.css={},e.css.getAttr=function(e,t){e=e.toLowerCase();var r,n,o,i,a,l=document.styleSheets[0],c=l.cssRules.length;for(a=0;c>a;a+=1)for(r=l.cssRules[a].selectorText.toLowerCase().split(","),o=r.length,i=0;o>i;i)if(r[i].trim()===e&&(n=l.cssRules[a].style.getPropertyValue(t),""!==n))return n;return null},e.dom={},e.dom.dataAttr=function(e,t,r){r&&e.setAttribute("data-"+t,r);var n=r||e.getAttribute("data-"+t);return n},e.storage=function(e,t){var r,n=localStorage;if(t?(n[e]=JSON.stringify(t),r=t):t===!1&&(n.removeItem(e),r=!1),n[e])try{return JSON.parse(n[e])}catch(o){r=!1}return r},e.cookie=function(){var e=function(t,r,n){return 1===arguments.length?e.get(t):e.set(t,r,n)};return e._d=document,e._n=navigator,e.defaults={path:"/"},e.get=function(t){return e._cachedDocumentCookie!==e._d.cookie&&e._renewCache(),e._cache[t]},e.set=function(t,r,n){return n=e._getExtendedOptions(n),n.expires=e._getExpiresDate(void 0===r?-1:n.expires),e._d.cookie=e._generateCookieString(t,r,n),e},e.expire=function(t,r){return e.set(t,void 0,r)},e._getExtendedOptions=function(t){return{path:t&&t.path||e.defaults.path,domain:t&&t.domain||e.defaults.domain,expires:t&&t.expires||e.defaults.expires,secure:t&&void 0!==t.secure?t.secure:e.defaults.secure}},e._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},e._getExpiresDate=function(t,r){switch(r=r||new Date,typeof t){case"number":t=new Date(r.getTime()+1e3*t);break;case"string":t=new Date(t)}if(t&&!e._isValidDate(t))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return t},e._generateCookieString=function(e,t,r){e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent),e=e.replace(/\(/g,"%28").replace(/\)/g,"%29"),t=(t+String("")).replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),r=r||{};var n=e+"="+t;return n+=r.path?";path="+r.path:"",n+=r.domain?";domain="+r.domain:"",n+=r.expires?";expires="+r.expires.toUTCString():"",n+=r.secure?";secure":""},e._getCookieObjectFromString=function(t){var r,n,o={},i=t?t.split("; "):[];for(n=0;n<i.length;n++)r=e._getKeyValuePairFromCookieString(i[n]),void 0===o[r.key]&&(o[r.key]=r.value);return o},e._getKeyValuePairFromCookieString=function(e){var t=e.indexOf("=");return t=0>t?e.length:t,{key:decodeURIComponent(e.substr(0,t)),value:decodeURIComponent(e.substr(t+1))}},e._renewCache=function(){e._cache=e._getCookieObjectFromString(e._d.cookie),e._cachedDocumentCookie=e._d.cookie},e._areEnabled=function(){var t="cookies.js",r="1"===e.set(t,1).get(t);return e.expire(t),r},e.enabled=e._areEnabled(),e}(),e.querystring=function(e){var t,r,n={},o=e.split("&");for(t in o)r=o[t].split("="),n[r[0]]=r[1];return n},e.getEpoch=function(){return parseInt(((new Date).getTime()/1e3).toFixed(0,0),0)},module&&(module.exports=e),e}(window,Math,window.draw={});
//# sourceMappingURL=jsCommons.min.map